"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/playground/page",{

/***/ "(app-pages-browser)/../../packages/openlovable-core-adapter/src/promptAdapter.ts":
/*!********************************************************************!*\
  !*** ../../packages/openlovable-core-adapter/src/promptAdapter.ts ***!
  \********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   detectThemeFromPrompt: () => (/* binding */ detectThemeFromPrompt),\n/* harmony export */   generateFromPrompt: () => (/* binding */ generateFromPrompt),\n/* harmony export */   mulberry32: () => (/* binding */ mulberry32),\n/* harmony export */   promptToSpec: () => (/* binding */ promptToSpec),\n/* harmony export */   seededShuffle: () => (/* binding */ seededShuffle)\n/* harmony export */ });\n/* harmony import */ var _render__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./render */ \"(app-pages-browser)/../../packages/openlovable-core-adapter/src/render.ts\");\n/* harmony import */ var _renderThemed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./renderThemed */ \"(app-pages-browser)/../../packages/openlovable-core-adapter/src/renderThemed.ts\");\n/* harmony import */ var _presets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./presets */ \"(app-pages-browser)/../../packages/openlovable-core-adapter/src/presets.ts\");\n\n\n\n/**\n * Stub LLM adapter: map any prompt to a deterministic PageSpec.\n * Later, replace this with a real LLM call.\n */ async function promptToSpec(prompt) {\n    // Naive, deterministic mapping for demo only\n    const wantsKids = /kids|เด็ก/i.test(prompt);\n    const wantsTestimonials = /testimonials?/i.test(prompt);\n    const wantsPricing = /pricing|price|plan/i.test(prompt);\n    const wantsFaq = /faq|questions?/i.test(prompt);\n    const includeAll = !(wantsTestimonials || wantsPricing || wantsFaq);\n    const title = wantsKids ? 'AI Math for Kids' : 'AI Product Landing';\n    const subtitle = 'Generated from a single prompt using the PageSpec adapter';\n    const spec = {\n        title,\n        subtitle,\n        accent: '#3b82f6',\n        hero: {\n            headline: wantsKids ? 'Make Math Fun!' : 'Make It Real in Seconds',\n            subheadline: wantsKids ? 'Interactive exercises for elementary school students' : 'Type a prompt → get a full landing page preview',\n            ctaText: 'Get Started'\n        },\n        features: {\n            title: wantsKids ? 'Why choose us?' : 'Highlights',\n            items: wantsKids ? [\n                {\n                    label: 'Interactive exercises',\n                    icon: '/icons/check.svg'\n                },\n                {\n                    label: 'Progress tracking',\n                    icon: '/icons/check.svg'\n                },\n                {\n                    label: 'Designed for kids',\n                    icon: '/icons/check.svg'\n                }\n            ] : [\n                {\n                    label: 'Prompt → Spec → HTML',\n                    icon: '/icons/check.svg'\n                },\n                {\n                    label: 'Deterministic preview',\n                    icon: '/icons/check.svg'\n                },\n                {\n                    label: 'Export-ready output',\n                    icon: '/icons/check.svg'\n                }\n            ]\n        },\n        cta: {\n            headline: wantsKids ? 'Start your free trial today!' : 'Ready to ship your page?',\n            ctaText: wantsKids ? 'Sign Up' : 'Export Now'\n        },\n        footer: {\n            smallprint: '© 2025 Flowgami – Demo only'\n        }\n    };\n    if (wantsTestimonials || includeAll) {\n        ;\n        spec.testimonials = {\n            title: 'Loved by teams',\n            items: [\n                {\n                    quote: 'It just works.',\n                    author: 'Jane',\n                    avatar: '/avatars/jane.png'\n                },\n                {\n                    quote: 'Boosted our speed 10x.',\n                    author: 'Alex'\n                }\n            ]\n        };\n    }\n    if (wantsPricing || includeAll) {\n        ;\n        spec.pricing = {\n            title: 'Simple pricing',\n            plans: [\n                {\n                    name: 'Starter',\n                    price: '$9/mo',\n                    features: [\n                        '1 project',\n                        'Email support'\n                    ]\n                },\n                {\n                    name: 'Pro',\n                    price: '$29/mo',\n                    features: [\n                        'Unlimited projects',\n                        'Priority support'\n                    ]\n                }\n            ]\n        };\n    }\n    if (wantsFaq || includeAll) {\n        ;\n        spec.faq = {\n            title: 'FAQ',\n            items: [\n                {\n                    q: 'Can I export?',\n                    a: 'Yes, as HTML or Next.js.'\n                },\n                {\n                    q: 'Is there a free plan?',\n                    a: 'Yes, with basic features.'\n                }\n            ]\n        };\n    }\n    return spec;\n}\n// === New: detect Theme from prompt keywords\nfunction detectThemeFromPrompt(prompt) {\n    const p = (prompt || '').toLowerCase();\n    if (/(playful|fun|vibrant|friendly|cute|kid|kids|youth)/.test(p)) return 'playful';\n    if (/(elegant|sleek|refined|sophisticated|lux|premium)/.test(p)) return 'elegant';\n    if (/(cyber|neon|matrix|hacker|terminal|green on black|futuristic)/.test(p)) return 'cyber';\n    if (/(pastel|soft color|soft-colou?r|mint|peach|lavender)/.test(p)) return 'pastel';\n    if (/(newspaper|editorial|monochrome|print|press|headline|serif)/.test(p)) return 'newspaper';\n    if (/(glassmorphism|neon glass|glass|frosted|blur|glassy)/.test(p)) return 'neon-glass';\n    if (/(minimal|minimalist|simple|clean)/.test(p)) return 'minimal';\n    return null;\n}\nasync function generateFromPrompt(prompt, seed, themeOrUndefined, themeTokensOrUndefined, autoStyleOrUndefined, styleModeOrUndefined, variationStrategyOrUndefined) {\n    const spec = await promptToSpec(prompt);\n    const actualSeed = typeof seed === 'number' && Number.isFinite(seed) ? seed : Math.floor(Math.random() * 100000);\n    const hasSeed = typeof seed === 'number' && Number.isFinite(seed);\n    const explicitTheme = themeOrUndefined;\n    const explicitTokens = themeTokensOrUndefined;\n    const autoStyle = !!autoStyleOrUndefined;\n    // Backward-compat: some call sites pass variationStrategy in the 6th arg position\n    let styleModeParam = styleModeOrUndefined;\n    let variationParam = variationStrategyOrUndefined;\n    const VARS = new Set([\n        'none',\n        'reverse-features',\n        'shuffle-pricing',\n        'both',\n        'auto'\n    ]);\n    if (typeof styleModeParam === 'string' && VARS.has(styleModeParam)) {\n        variationParam = styleModeParam;\n        styleModeParam = undefined;\n    }\n    const styleMode = styleModeParam !== null && styleModeParam !== void 0 ? styleModeParam : autoStyle ? 'auto' : explicitTheme || explicitTokens ? 'explicit' : 'none';\n    let chosenTheme;\n    let themeSource = 'none';\n    if (explicitTheme || explicitTokens) {\n        // treated as explicit or seeded based on styleMode\n        if (styleMode === 'seeded') {\n            themeSource = 'seeded';\n        } else {\n            themeSource = 'explicit';\n        }\n        chosenTheme = explicitTheme;\n        if (explicitTheme) {\n            const p = (0,_presets__WEBPACK_IMPORTED_MODULE_2__.getPreset)(explicitTheme);\n            if (p) {\n                Object.assign(spec, (0,_presets__WEBPACK_IMPORTED_MODULE_2__.applyPresetToSpec)(spec, p));\n            } else {\n                spec.theme = explicitTheme;\n                spec.themeTokens = {\n                    ...spec.themeTokens,\n                    ...explicitTokens || {}\n                };\n            }\n        } else if (explicitTokens) {\n            spec.themeTokens = {\n                ...spec.themeTokens,\n                ...explicitTokens\n            };\n        }\n    } else if (autoStyle || styleMode === 'auto') {\n        const detected = detectThemeFromPrompt(prompt);\n        chosenTheme = detected || undefined;\n        if (detected) {\n            const p = (0,_presets__WEBPACK_IMPORTED_MODULE_2__.getPreset)(detected);\n            if (p) {\n                themeSource = 'prompt';\n                Object.assign(spec, (0,_presets__WEBPACK_IMPORTED_MODULE_2__.applyPresetToSpec)(spec, p));\n            }\n        }\n    }\n    // Variation Strategy handling (T40)\n    let appliedStrategy = variationParam || 'auto';\n    try {\n        var _spec_features, _spec_pricing;\n        const feats = (_spec_features = spec.features) === null || _spec_features === void 0 ? void 0 : _spec_features.items;\n        const plans = (_spec_pricing = spec.pricing) === null || _spec_pricing === void 0 ? void 0 : _spec_pricing.plans;\n        if (appliedStrategy === 'auto') {\n            // Auto (seed-based) logic — keep prior behavior for reproducibility\n            if (hasSeed) {\n                if (actualSeed % 2 === 0 && feats) {\n                    ;\n                    spec.features.items = [\n                        ...feats\n                    ].reverse();\n                }\n                if (actualSeed % 3 === 0 && plans) {\n                    ;\n                    spec.pricing.plans = seededShuffle([\n                        ...plans\n                    ], actualSeed);\n                }\n            }\n        } else if (appliedStrategy && appliedStrategy !== 'none') {\n            if ((appliedStrategy === 'reverse-features' || appliedStrategy === 'both') && feats) {\n                ;\n                spec.features.items = [\n                    ...feats\n                ].reverse();\n            }\n            if ((appliedStrategy === 'shuffle-pricing' || appliedStrategy === 'both') && plans) {\n                ;\n                spec.pricing.plans = seededShuffle([\n                    ...plans\n                ], actualSeed);\n            }\n        }\n    } catch (e) {}\n    const html = spec.theme ? (0,_renderThemed__WEBPACK_IMPORTED_MODULE_1__.renderThemedHTML)(spec) : (0,_render__WEBPACK_IMPORTED_MODULE_0__.renderLegacyHTML)(spec);\n    return {\n        spec,\n        html,\n        seed: actualSeed,\n        chosenTheme,\n        themeSource,\n        presetsVersion: _presets__WEBPACK_IMPORTED_MODULE_2__.PRESETS_VERSION,\n        variationStrategy: appliedStrategy\n    };\n}\n// --- deterministic PRNG (mulberry32)\nfunction mulberry32(seed) {\n    let t = seed >>> 0;\n    return function() {\n        t += 0x6d2b79f5;\n        let r = Math.imul(t ^ t >>> 15, 1 | t);\n        r ^= r + Math.imul(r ^ r >>> 7, 61 | r);\n        return ((r ^ r >>> 14) >>> 0) / 4294967296;\n    };\n}\n// --- seeded shuffle (Fisher–Yates)\nfunction seededShuffle(arr, seed) {\n    const rand = mulberry32(seed);\n    const a = arr.slice();\n    for(let i = a.length - 1; i > 0; i--){\n        const j = Math.floor(rand() * (i + 1));\n        [a[i], a[j]] = [\n            a[j],\n            a[i]\n        ];\n    }\n    return a;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uLi8uLi9wYWNrYWdlcy9vcGVubG92YWJsZS1jb3JlLWFkYXB0ZXIvc3JjL3Byb21wdEFkYXB0ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDMkM7QUFDTTtBQUNtQztBQUVwRjs7O0NBR0MsR0FDTSxlQUFlSyxhQUFhQyxNQUFjO0lBQy9DLDZDQUE2QztJQUM3QyxNQUFNQyxZQUFZLGFBQWFDLElBQUksQ0FBQ0Y7SUFDcEMsTUFBTUcsb0JBQW9CLGlCQUFpQkQsSUFBSSxDQUFDRjtJQUNoRCxNQUFNSSxlQUFlLHNCQUFzQkYsSUFBSSxDQUFDRjtJQUNoRCxNQUFNSyxXQUFXLGtCQUFrQkgsSUFBSSxDQUFDRjtJQUN4QyxNQUFNTSxhQUFhLENBQUVILENBQUFBLHFCQUFxQkMsZ0JBQWdCQyxRQUFPO0lBRWpFLE1BQU1FLFFBQVFOLFlBQVkscUJBQXFCO0lBQy9DLE1BQU1PLFdBQVc7SUFFakIsTUFBTUMsT0FBaUI7UUFDckJGO1FBQ0FDO1FBQ0FFLFFBQVE7UUFDUkMsTUFBTTtZQUNKQyxVQUFVWCxZQUFZLG1CQUFtQjtZQUN6Q1ksYUFBYVosWUFDVCx5REFDQTtZQUNKYSxTQUFTO1FBQ1g7UUFDQUMsVUFBVTtZQUNSUixPQUFPTixZQUFZLG1CQUFtQjtZQUN0Q2UsT0FBT2YsWUFDSDtnQkFDRTtvQkFBRWdCLE9BQU87b0JBQXlCQyxNQUFNO2dCQUFtQjtnQkFDM0Q7b0JBQUVELE9BQU87b0JBQXFCQyxNQUFNO2dCQUFtQjtnQkFDdkQ7b0JBQUVELE9BQU87b0JBQXFCQyxNQUFNO2dCQUFtQjthQUN4RCxHQUNEO2dCQUNFO29CQUFFRCxPQUFPO29CQUF3QkMsTUFBTTtnQkFBbUI7Z0JBQzFEO29CQUFFRCxPQUFPO29CQUF5QkMsTUFBTTtnQkFBbUI7Z0JBQzNEO29CQUFFRCxPQUFPO29CQUF1QkMsTUFBTTtnQkFBbUI7YUFDMUQ7UUFDUDtRQUNBQyxLQUFLO1lBQ0hQLFVBQVVYLFlBQVksaUNBQWlDO1lBQ3ZEYSxT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RCxNQUFNMEMsT0FBT0wsV0FBV3JDO0lBQ3hCLE1BQU1MLElBQUk4QyxJQUFJRSxLQUFLO0lBQ25CLElBQUssSUFBSUMsSUFBSWpELEVBQUVrRCxNQUFNLEdBQUcsR0FBR0QsSUFBSSxHQUFHQSxJQUFLO1FBQ3JDLE1BQU1FLElBQUlyQyxLQUFLQyxLQUFLLENBQUNnQyxTQUFVRSxDQUFBQSxJQUFJO1FBQ2xDLENBQUNqRCxDQUFDLENBQUNpRCxFQUFFLEVBQUVqRCxDQUFDLENBQUNtRCxFQUFFLENBQUMsR0FBRztZQUFDbkQsQ0FBQyxDQUFDbUQsRUFBRTtZQUFFbkQsQ0FBQyxDQUFDaUQsRUFBRTtTQUFDO0lBQzlCO0lBQ0EsT0FBT2pEO0FBQ1QiLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXQvUHJvamVjdHMvcHJvbXB0LXRvLXVpL3BhY2thZ2VzL29wZW5sb3ZhYmxlLWNvcmUtYWRhcHRlci9zcmMvcHJvbXB0QWRhcHRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlU3BlYyB9IGZyb20gJy4vc3BlYydcbmltcG9ydCB7IHJlbmRlckxlZ2FjeUhUTUwgfSBmcm9tICcuL3JlbmRlcidcbmltcG9ydCB7IHJlbmRlclRoZW1lZEhUTUwgfSBmcm9tICcuL3JlbmRlclRoZW1lZCdcbmltcG9ydCB7IGdldFByZXNldCwgYXBwbHlQcmVzZXRUb1NwZWMsIFRoZW1lTmFtZSwgUFJFU0VUU19WRVJTSU9OIH0gZnJvbSAnLi9wcmVzZXRzJ1xuXG4vKipcbiAqIFN0dWIgTExNIGFkYXB0ZXI6IG1hcCBhbnkgcHJvbXB0IHRvIGEgZGV0ZXJtaW5pc3RpYyBQYWdlU3BlYy5cbiAqIExhdGVyLCByZXBsYWNlIHRoaXMgd2l0aCBhIHJlYWwgTExNIGNhbGwuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcm9tcHRUb1NwZWMocHJvbXB0OiBzdHJpbmcpOiBQcm9taXNlPFBhZ2VTcGVjPiB7XG4gIC8vIE5haXZlLCBkZXRlcm1pbmlzdGljIG1hcHBpbmcgZm9yIGRlbW8gb25seVxuICBjb25zdCB3YW50c0tpZHMgPSAva2lkc3zguYDguJTguYfguIEvaS50ZXN0KHByb21wdClcbiAgY29uc3Qgd2FudHNUZXN0aW1vbmlhbHMgPSAvdGVzdGltb25pYWxzPy9pLnRlc3QocHJvbXB0KVxuICBjb25zdCB3YW50c1ByaWNpbmcgPSAvcHJpY2luZ3xwcmljZXxwbGFuL2kudGVzdChwcm9tcHQpXG4gIGNvbnN0IHdhbnRzRmFxID0gL2ZhcXxxdWVzdGlvbnM/L2kudGVzdChwcm9tcHQpXG4gIGNvbnN0IGluY2x1ZGVBbGwgPSAhKHdhbnRzVGVzdGltb25pYWxzIHx8IHdhbnRzUHJpY2luZyB8fCB3YW50c0ZhcSlcblxuICBjb25zdCB0aXRsZSA9IHdhbnRzS2lkcyA/ICdBSSBNYXRoIGZvciBLaWRzJyA6ICdBSSBQcm9kdWN0IExhbmRpbmcnXG4gIGNvbnN0IHN1YnRpdGxlID0gJ0dlbmVyYXRlZCBmcm9tIGEgc2luZ2xlIHByb21wdCB1c2luZyB0aGUgUGFnZVNwZWMgYWRhcHRlcidcblxuICBjb25zdCBzcGVjOiBQYWdlU3BlYyA9IHtcbiAgICB0aXRsZSxcbiAgICBzdWJ0aXRsZSxcbiAgICBhY2NlbnQ6ICcjM2I4MmY2JyxcbiAgICBoZXJvOiB7XG4gICAgICBoZWFkbGluZTogd2FudHNLaWRzID8gJ01ha2UgTWF0aCBGdW4hJyA6ICdNYWtlIEl0IFJlYWwgaW4gU2Vjb25kcycsXG4gICAgICBzdWJoZWFkbGluZTogd2FudHNLaWRzXG4gICAgICAgID8gJ0ludGVyYWN0aXZlIGV4ZXJjaXNlcyBmb3IgZWxlbWVudGFyeSBzY2hvb2wgc3R1ZGVudHMnXG4gICAgICAgIDogJ1R5cGUgYSBwcm9tcHQg4oaSIGdldCBhIGZ1bGwgbGFuZGluZyBwYWdlIHByZXZpZXcnLFxuICAgICAgY3RhVGV4dDogJ0dldCBTdGFydGVkJyxcbiAgICB9LFxuICAgIGZlYXR1cmVzOiB7XG4gICAgICB0aXRsZTogd2FudHNLaWRzID8gJ1doeSBjaG9vc2UgdXM/JyA6ICdIaWdobGlnaHRzJyxcbiAgICAgIGl0ZW1zOiB3YW50c0tpZHNcbiAgICAgICAgPyBbXG4gICAgICAgICAgICB7IGxhYmVsOiAnSW50ZXJhY3RpdmUgZXhlcmNpc2VzJywgaWNvbjogJy9pY29ucy9jaGVjay5zdmcnIH0sXG4gICAgICAgICAgICB7IGxhYmVsOiAnUHJvZ3Jlc3MgdHJhY2tpbmcnLCBpY29uOiAnL2ljb25zL2NoZWNrLnN2ZycgfSxcbiAgICAgICAgICAgIHsgbGFiZWw6ICdEZXNpZ25lZCBmb3Iga2lkcycsIGljb246ICcvaWNvbnMvY2hlY2suc3ZnJyB9LFxuICAgICAgICAgIF1cbiAgICAgICAgOiBbXG4gICAgICAgICAgICB7IGxhYmVsOiAnUHJvbXB0IOKGkiBTcGVjIOKGkiBIVE1MJywgaWNvbjogJy9pY29ucy9jaGVjay5zdmcnIH0sXG4gICAgICAgICAgICB7IGxhYmVsOiAnRGV0ZXJtaW5pc3RpYyBwcmV2aWV3JywgaWNvbjogJy9pY29ucy9jaGVjay5zdmcnIH0sXG4gICAgICAgICAgICB7IGxhYmVsOiAnRXhwb3J0LXJlYWR5IG91dHB1dCcsIGljb246ICcvaWNvbnMvY2hlY2suc3ZnJyB9LFxuICAgICAgICAgIF0sXG4gICAgfSxcbiAgICBjdGE6IHtcbiAgICAgIGhlYWRsaW5lOiB3YW50c0tpZHMgPyAnU3RhcnQgeW91ciBmcmVlIHRyaWFsIHRvZGF5IScgOiAnUmVhZHkgdG8gc2hpcCB5b3VyIHBhZ2U/JyxcbiAgICAgIGN0YVRleHQ6IHdhbnRzS2lkcyA/ICdTaWduIFVwJyA6ICdFeHBvcnQgTm93JyxcbiAgICB9LFxuICAgIGZvb3RlcjogeyBzbWFsbHByaW50OiAnwqkgMjAyNSBGbG93Z2FtaSDigJMgRGVtbyBvbmx5JyB9LFxuICB9XG5cbiAgaWYgKHdhbnRzVGVzdGltb25pYWxzIHx8IGluY2x1ZGVBbGwpIHtcbiAgICA7KHNwZWMgYXMgYW55KS50ZXN0aW1vbmlhbHMgPSB7XG4gICAgICB0aXRsZTogJ0xvdmVkIGJ5IHRlYW1zJyxcbiAgICAgIGl0ZW1zOiBbXG4gICAgICAgIHsgcXVvdGU6ICdJdCBqdXN0IHdvcmtzLicsIGF1dGhvcjogJ0phbmUnLCBhdmF0YXI6ICcvYXZhdGFycy9qYW5lLnBuZycgfSxcbiAgICAgICAgeyBxdW90ZTogJ0Jvb3N0ZWQgb3VyIHNwZWVkIDEweC4nLCBhdXRob3I6ICdBbGV4JyB9LFxuICAgICAgXSxcbiAgICB9XG4gIH1cbiAgaWYgKHdhbnRzUHJpY2luZyB8fCBpbmNsdWRlQWxsKSB7XG4gICAgOyhzcGVjIGFzIGFueSkucHJpY2luZyA9IHtcbiAgICAgIHRpdGxlOiAnU2ltcGxlIHByaWNpbmcnLFxuICAgICAgcGxhbnM6IFtcbiAgICAgICAgeyBuYW1lOiAnU3RhcnRlcicsIHByaWNlOiAnJDkvbW8nLCBmZWF0dXJlczogWycxIHByb2plY3QnLCAnRW1haWwgc3VwcG9ydCddIH0sXG4gICAgICAgIHsgbmFtZTogJ1BybycsIHByaWNlOiAnJDI5L21vJywgZmVhdHVyZXM6IFsnVW5saW1pdGVkIHByb2plY3RzJywgJ1ByaW9yaXR5IHN1cHBvcnQnXSB9LFxuICAgICAgXSxcbiAgICB9XG4gIH1cbiAgaWYgKHdhbnRzRmFxIHx8IGluY2x1ZGVBbGwpIHtcbiAgICA7KHNwZWMgYXMgYW55KS5mYXEgPSB7XG4gICAgICB0aXRsZTogJ0ZBUScsXG4gICAgICBpdGVtczogW1xuICAgICAgICB7IHE6ICdDYW4gSSBleHBvcnQ/JywgYTogJ1llcywgYXMgSFRNTCBvciBOZXh0LmpzLicgfSxcbiAgICAgICAgeyBxOiAnSXMgdGhlcmUgYSBmcmVlIHBsYW4/JywgYTogJ1llcywgd2l0aCBiYXNpYyBmZWF0dXJlcy4nIH0sXG4gICAgICBdLFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzcGVjXG59XG5cbi8vID09PSBOZXc6IGRldGVjdCBUaGVtZSBmcm9tIHByb21wdCBrZXl3b3Jkc1xuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFRoZW1lRnJvbVByb21wdChwcm9tcHQ6IHN0cmluZyk6IFRoZW1lTmFtZSB8IG51bGwge1xuICBjb25zdCBwID0gKHByb21wdCB8fCAnJykudG9Mb3dlckNhc2UoKVxuICBpZiAoLyhwbGF5ZnVsfGZ1bnx2aWJyYW50fGZyaWVuZGx5fGN1dGV8a2lkfGtpZHN8eW91dGgpLy50ZXN0KHApKSByZXR1cm4gJ3BsYXlmdWwnXG4gIGlmICgvKGVsZWdhbnR8c2xlZWt8cmVmaW5lZHxzb3BoaXN0aWNhdGVkfGx1eHxwcmVtaXVtKS8udGVzdChwKSkgcmV0dXJuICdlbGVnYW50J1xuICBpZiAoLyhjeWJlcnxuZW9ufG1hdHJpeHxoYWNrZXJ8dGVybWluYWx8Z3JlZW4gb24gYmxhY2t8ZnV0dXJpc3RpYykvLnRlc3QocCkpIHJldHVybiAnY3liZXInXG4gIGlmICgvKHBhc3RlbHxzb2Z0IGNvbG9yfHNvZnQtY29sb3U/cnxtaW50fHBlYWNofGxhdmVuZGVyKS8udGVzdChwKSkgcmV0dXJuICdwYXN0ZWwnXG4gIGlmICgvKG5ld3NwYXBlcnxlZGl0b3JpYWx8bW9ub2Nocm9tZXxwcmludHxwcmVzc3xoZWFkbGluZXxzZXJpZikvLnRlc3QocCkpIHJldHVybiAnbmV3c3BhcGVyJ1xuICBpZiAoLyhnbGFzc21vcnBoaXNtfG5lb24gZ2xhc3N8Z2xhc3N8ZnJvc3RlZHxibHVyfGdsYXNzeSkvLnRlc3QocCkpIHJldHVybiAnbmVvbi1nbGFzcydcbiAgaWYgKC8obWluaW1hbHxtaW5pbWFsaXN0fHNpbXBsZXxjbGVhbikvLnRlc3QocCkpIHJldHVybiAnbWluaW1hbCdcbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gT3ZlcmxvYWQgc2lnbmF0dXJlcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlRnJvbVByb21wdChcbiAgcHJvbXB0OiBzdHJpbmcsXG4gIHNlZWQ/OiBudW1iZXIsXG4gIHRoZW1lPzogJ21pbmltYWwnIHwgJ3BsYXlmdWwnIHwgJ2VsZWdhbnQnIHwgJ2N5YmVyJ1xuKTogUHJvbWlzZTx7IHNwZWM6IGFueTsgaHRtbDogc3RyaW5nOyBzZWVkOiBudW1iZXI7IGNob3NlblRoZW1lPzogVGhlbWVOYW1lOyB0aGVtZVNvdXJjZT86ICdwcm9tcHQnIHwgJ2V4cGxpY2l0JyB8ICdzZWVkZWQnIHwgJ25vbmUnOyBwcmVzZXRzVmVyc2lvbj86IG51bWJlciB9PlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVGcm9tUHJvbXB0KFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgc2VlZD86IG51bWJlcixcbiAgdGhlbWU/OiAnbWluaW1hbCcgfCAncGxheWZ1bCcgfCAnZWxlZ2FudCcgfCAnY3liZXInLFxuICB0aGVtZVRva2Vucz86IHsgYWNjZW50Pzogc3RyaW5nOyByYWRpdXM/OiBzdHJpbmc7IGZvbnQ/OiAnc3lzdGVtJyB8ICdpbnRlcicgfCAnc2VyaWYnIH0sXG4gIGF1dG9TdHlsZT86IGJvb2xlYW4sXG4gIHN0eWxlTW9kZT86ICdhdXRvJyB8ICdleHBsaWNpdCcgfCAnc2VlZGVkJyxcbiAgdmFyaWF0aW9uU3RyYXRlZ3k/OiAnbm9uZScgfCAncmV2ZXJzZS1mZWF0dXJlcycgfCAnc2h1ZmZsZS1wcmljaW5nJyB8ICdib3RoJ1xuKTogUHJvbWlzZTx7IHNwZWM6IGFueTsgaHRtbDogc3RyaW5nOyBzZWVkOiBudW1iZXI7IGNob3NlblRoZW1lPzogVGhlbWVOYW1lOyB0aGVtZVNvdXJjZT86ICdwcm9tcHQnIHwgJ2V4cGxpY2l0JyB8ICdzZWVkZWQnIHwgJ25vbmUnOyBwcmVzZXRzVmVyc2lvbj86IG51bWJlcjsgdmFyaWF0aW9uU3RyYXRlZ3k/OiAnbm9uZScgfCAncmV2ZXJzZS1mZWF0dXJlcycgfCAnc2h1ZmZsZS1wcmljaW5nJyB8ICdib3RoJyB8ICdhdXRvJyB9PlxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVGcm9tUHJvbXB0KFxuICBwcm9tcHQ6IHN0cmluZyxcbiAgc2VlZD86IG51bWJlcixcbiAgdGhlbWVPclVuZGVmaW5lZD86IGFueSxcbiAgdGhlbWVUb2tlbnNPclVuZGVmaW5lZD86IGFueSxcbiAgYXV0b1N0eWxlT3JVbmRlZmluZWQ/OiBhbnksXG4gIHN0eWxlTW9kZU9yVW5kZWZpbmVkPzogYW55LFxuICB2YXJpYXRpb25TdHJhdGVneU9yVW5kZWZpbmVkPzogYW55XG4pIHtcbiAgY29uc3Qgc3BlYyA9IGF3YWl0IHByb21wdFRvU3BlYyhwcm9tcHQpXG5cbiAgY29uc3QgYWN0dWFsU2VlZCA9IHR5cGVvZiBzZWVkID09PSAnbnVtYmVyJyAmJiBOdW1iZXIuaXNGaW5pdGUoc2VlZCkgPyBzZWVkIDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKVxuICBjb25zdCBoYXNTZWVkID0gdHlwZW9mIHNlZWQgPT09ICdudW1iZXInICYmIE51bWJlci5pc0Zpbml0ZShzZWVkKVxuXG4gIGNvbnN0IGV4cGxpY2l0VGhlbWUgPSB0aGVtZU9yVW5kZWZpbmVkIGFzIFRoZW1lTmFtZSB8IHVuZGVmaW5lZFxuICBjb25zdCBleHBsaWNpdFRva2VucyA9IHRoZW1lVG9rZW5zT3JVbmRlZmluZWQgYXMgeyBhY2NlbnQ/OiBzdHJpbmc7IHJhZGl1cz86IHN0cmluZzsgZm9udD86ICdzeXN0ZW0nIHwgJ2ludGVyJyB8ICdzZXJpZicgfSB8IHVuZGVmaW5lZFxuICBjb25zdCBhdXRvU3R5bGUgPSAhIWF1dG9TdHlsZU9yVW5kZWZpbmVkXG5cbiAgLy8gQmFja3dhcmQtY29tcGF0OiBzb21lIGNhbGwgc2l0ZXMgcGFzcyB2YXJpYXRpb25TdHJhdGVneSBpbiB0aGUgNnRoIGFyZyBwb3NpdGlvblxuICBsZXQgc3R5bGVNb2RlUGFyYW0gPSBzdHlsZU1vZGVPclVuZGVmaW5lZCBhcyBhbnlcbiAgbGV0IHZhcmlhdGlvblBhcmFtID0gdmFyaWF0aW9uU3RyYXRlZ3lPclVuZGVmaW5lZCBhcyBhbnlcbiAgY29uc3QgVkFSUyA9IG5ldyBTZXQoWydub25lJywgJ3JldmVyc2UtZmVhdHVyZXMnLCAnc2h1ZmZsZS1wcmljaW5nJywgJ2JvdGgnLCAnYXV0byddKVxuICBpZiAodHlwZW9mIHN0eWxlTW9kZVBhcmFtID09PSAnc3RyaW5nJyAmJiBWQVJTLmhhcyhzdHlsZU1vZGVQYXJhbSkpIHtcbiAgICB2YXJpYXRpb25QYXJhbSA9IHN0eWxlTW9kZVBhcmFtXG4gICAgc3R5bGVNb2RlUGFyYW0gPSB1bmRlZmluZWRcbiAgfVxuXG4gIGNvbnN0IHN0eWxlTW9kZSA9IChzdHlsZU1vZGVQYXJhbSBhcyAnYXV0bycgfCAnZXhwbGljaXQnIHwgJ3NlZWRlZCcgfCB1bmRlZmluZWQpID8/IChhdXRvU3R5bGUgPyAnYXV0bycgOiAoZXhwbGljaXRUaGVtZSB8fCBleHBsaWNpdFRva2VucyA/ICdleHBsaWNpdCcgOiAnbm9uZScpKVxuXG4gIGxldCBjaG9zZW5UaGVtZTogVGhlbWVOYW1lIHwgdW5kZWZpbmVkXG4gIGxldCB0aGVtZVNvdXJjZTogJ3Byb21wdCcgfCAnZXhwbGljaXQnIHwgJ3NlZWRlZCcgfCAnbm9uZScgPSAnbm9uZSdcblxuICBpZiAoZXhwbGljaXRUaGVtZSB8fCBleHBsaWNpdFRva2Vucykge1xuICAgIC8vIHRyZWF0ZWQgYXMgZXhwbGljaXQgb3Igc2VlZGVkIGJhc2VkIG9uIHN0eWxlTW9kZVxuICAgIGlmIChzdHlsZU1vZGUgPT09ICdzZWVkZWQnKSB7XG4gICAgICB0aGVtZVNvdXJjZSA9ICdzZWVkZWQnXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZW1lU291cmNlID0gJ2V4cGxpY2l0J1xuICAgIH1cbiAgICBjaG9zZW5UaGVtZSA9IGV4cGxpY2l0VGhlbWVcbiAgICBpZiAoZXhwbGljaXRUaGVtZSkge1xuICAgICAgY29uc3QgcCA9IGdldFByZXNldChleHBsaWNpdFRoZW1lKVxuICAgICAgaWYgKHApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbigoc3BlYyBhcyBhbnkpLCBhcHBseVByZXNldFRvU3BlYyhzcGVjLCBwKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChzcGVjIGFzIGFueSkudGhlbWUgPSBleHBsaWNpdFRoZW1lIGFzIGFueVxuICAgICAgICA7KHNwZWMgYXMgYW55KS50aGVtZVRva2VucyA9IHsgLi4uKHNwZWMgYXMgYW55KS50aGVtZVRva2VucywgLi4uKGV4cGxpY2l0VG9rZW5zIHx8IHt9KSB9IGFzIGFueVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXhwbGljaXRUb2tlbnMpIHtcbiAgICAgIChzcGVjIGFzIGFueSkudGhlbWVUb2tlbnMgPSB7IC4uLihzcGVjIGFzIGFueSkudGhlbWVUb2tlbnMsIC4uLmV4cGxpY2l0VG9rZW5zIH0gYXMgYW55XG4gICAgfVxuICB9IGVsc2UgaWYgKGF1dG9TdHlsZSB8fCBzdHlsZU1vZGUgPT09ICdhdXRvJykge1xuICAgIGNvbnN0IGRldGVjdGVkID0gZGV0ZWN0VGhlbWVGcm9tUHJvbXB0KHByb21wdClcbiAgICBjaG9zZW5UaGVtZSA9IGRldGVjdGVkIHx8IHVuZGVmaW5lZFxuICAgIGlmIChkZXRlY3RlZCkge1xuICAgICAgY29uc3QgcCA9IGdldFByZXNldChkZXRlY3RlZClcbiAgICAgIGlmIChwKSB7XG4gICAgICAgIHRoZW1lU291cmNlID0gJ3Byb21wdCdcbiAgICAgICAgT2JqZWN0LmFzc2lnbigoc3BlYyBhcyBhbnkpLCBhcHBseVByZXNldFRvU3BlYyhzcGVjLCBwKSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBWYXJpYXRpb24gU3RyYXRlZ3kgaGFuZGxpbmcgKFQ0MClcbiAgbGV0IGFwcGxpZWRTdHJhdGVneTogJ25vbmUnIHwgJ3JldmVyc2UtZmVhdHVyZXMnIHwgJ3NodWZmbGUtcHJpY2luZycgfCAnYm90aCcgfCAnYXV0bycgPSAodmFyaWF0aW9uUGFyYW0gYXMgYW55KSB8fCAnYXV0bydcbiAgdHJ5IHtcbiAgICBjb25zdCBmZWF0cyA9IChzcGVjIGFzIGFueSkuZmVhdHVyZXM/Lml0ZW1zXG4gICAgY29uc3QgcGxhbnMgPSAoc3BlYyBhcyBhbnkpLnByaWNpbmc/LnBsYW5zXG4gICAgaWYgKGFwcGxpZWRTdHJhdGVneSA9PT0gJ2F1dG8nKSB7XG4gICAgICAvLyBBdXRvIChzZWVkLWJhc2VkKSBsb2dpYyDigJQga2VlcCBwcmlvciBiZWhhdmlvciBmb3IgcmVwcm9kdWNpYmlsaXR5XG4gICAgICBpZiAoaGFzU2VlZCkge1xuICAgICAgICBpZiAoYWN0dWFsU2VlZCAlIDIgPT09IDAgJiYgZmVhdHMpIHtcbiAgICAgICAgICA7KHNwZWMgYXMgYW55KS5mZWF0dXJlcy5pdGVtcyA9IFsuLi5mZWF0c10ucmV2ZXJzZSgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdHVhbFNlZWQgJSAzID09PSAwICYmIHBsYW5zKSB7XG4gICAgICAgICAgOyhzcGVjIGFzIGFueSkucHJpY2luZy5wbGFucyA9IHNlZWRlZFNodWZmbGUoWy4uLihwbGFucyldLCBhY3R1YWxTZWVkKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhcHBsaWVkU3RyYXRlZ3kgJiYgYXBwbGllZFN0cmF0ZWd5ICE9PSAnbm9uZScpIHtcbiAgICAgIGlmICgoYXBwbGllZFN0cmF0ZWd5ID09PSAncmV2ZXJzZS1mZWF0dXJlcycgfHwgYXBwbGllZFN0cmF0ZWd5ID09PSAnYm90aCcpICYmIGZlYXRzKSB7XG4gICAgICAgIDsoc3BlYyBhcyBhbnkpLmZlYXR1cmVzLml0ZW1zID0gWy4uLmZlYXRzXS5yZXZlcnNlKClcbiAgICAgIH1cbiAgICAgIGlmICgoYXBwbGllZFN0cmF0ZWd5ID09PSAnc2h1ZmZsZS1wcmljaW5nJyB8fCBhcHBsaWVkU3RyYXRlZ3kgPT09ICdib3RoJykgJiYgcGxhbnMpIHtcbiAgICAgICAgOyhzcGVjIGFzIGFueSkucHJpY2luZy5wbGFucyA9IHNlZWRlZFNodWZmbGUoWy4uLihwbGFucyldLCBhY3R1YWxTZWVkKVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCB7fVxuXG4gIGNvbnN0IGh0bWwgPSAoc3BlYyBhcyBhbnkpLnRoZW1lID8gcmVuZGVyVGhlbWVkSFRNTChzcGVjKSA6IHJlbmRlckxlZ2FjeUhUTUwoc3BlYylcbiAgcmV0dXJuIHsgc3BlYywgaHRtbCwgc2VlZDogYWN0dWFsU2VlZCwgY2hvc2VuVGhlbWUsIHRoZW1lU291cmNlLCBwcmVzZXRzVmVyc2lvbjogUFJFU0VUU19WRVJTSU9OLCB2YXJpYXRpb25TdHJhdGVneTogYXBwbGllZFN0cmF0ZWd5IH1cbn1cblxuLy8gLS0tIGRldGVybWluaXN0aWMgUFJORyAobXVsYmVycnkzMilcbmV4cG9ydCBmdW5jdGlvbiBtdWxiZXJyeTMyKHNlZWQ6IG51bWJlcikge1xuICBsZXQgdCA9IHNlZWQgPj4+IDBcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB0ICs9IDB4NmQyYjc5ZjVcbiAgICBsZXQgciA9IE1hdGguaW11bCh0IF4gKHQgPj4+IDE1KSwgMSB8IHQpXG4gICAgciBePSByICsgTWF0aC5pbXVsKHIgXiAociA+Pj4gNyksIDYxIHwgcilcbiAgICByZXR1cm4gKChyIF4gKHIgPj4+IDE0KSkgPj4+IDApIC8gNDI5NDk2NzI5NlxuICB9XG59XG5cbi8vIC0tLSBzZWVkZWQgc2h1ZmZsZSAoRmlzaGVy4oCTWWF0ZXMpXG5leHBvcnQgZnVuY3Rpb24gc2VlZGVkU2h1ZmZsZTxUPihhcnI6IFRbXSwgc2VlZDogbnVtYmVyKTogVFtdIHtcbiAgY29uc3QgcmFuZCA9IG11bGJlcnJ5MzIoc2VlZClcbiAgY29uc3QgYSA9IGFyci5zbGljZSgpXG4gIGZvciAobGV0IGkgPSBhLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcbiAgICBjb25zdCBqID0gTWF0aC5mbG9vcihyYW5kKCkgKiAoaSArIDEpKVxuICAgIDtbYVtpXSwgYVtqXV0gPSBbYVtqXSwgYVtpXV1cbiAgfVxuICByZXR1cm4gYVxufVxuXG4iXSwibmFtZXMiOlsicmVuZGVyTGVnYWN5SFRNTCIsInJlbmRlclRoZW1lZEhUTUwiLCJnZXRQcmVzZXQiLCJhcHBseVByZXNldFRvU3BlYyIsIlBSRVNFVFNfVkVSU0lPTiIsInByb21wdFRvU3BlYyIsInByb21wdCIsIndhbnRzS2lkcyIsInRlc3QiLCJ3YW50c1Rlc3RpbW9uaWFscyIsIndhbnRzUHJpY2luZyIsIndhbnRzRmFxIiwiaW5jbHVkZUFsbCIsInRpdGxlIiwic3VidGl0bGUiLCJzcGVjIiwiYWNjZW50IiwiaGVybyIsImhlYWRsaW5lIiwic3ViaGVhZGxpbmUiLCJjdGFUZXh0IiwiZmVhdHVyZXMiLCJpdGVtcyIsImxhYmVsIiwiaWNvbiIsImN0YSIsImZvb3RlciIsInNtYWxscHJpbnQiLCJ0ZXN0aW1vbmlhbHMiLCJxdW90ZSIsImF1dGhvciIsImF2YXRhciIsInByaWNpbmciLCJwbGFucyIsIm5hbWUiLCJwcmljZSIsImZhcSIsInEiLCJhIiwiZGV0ZWN0VGhlbWVGcm9tUHJvbXB0IiwicCIsInRvTG93ZXJDYXNlIiwiZ2VuZXJhdGVGcm9tUHJvbXB0Iiwic2VlZCIsInRoZW1lT3JVbmRlZmluZWQiLCJ0aGVtZVRva2Vuc09yVW5kZWZpbmVkIiwiYXV0b1N0eWxlT3JVbmRlZmluZWQiLCJzdHlsZU1vZGVPclVuZGVmaW5lZCIsInZhcmlhdGlvblN0cmF0ZWd5T3JVbmRlZmluZWQiLCJhY3R1YWxTZWVkIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJoYXNTZWVkIiwiZXhwbGljaXRUaGVtZSIsImV4cGxpY2l0VG9rZW5zIiwiYXV0b1N0eWxlIiwic3R5bGVNb2RlUGFyYW0iLCJ2YXJpYXRpb25QYXJhbSIsIlZBUlMiLCJTZXQiLCJoYXMiLCJ1bmRlZmluZWQiLCJzdHlsZU1vZGUiLCJjaG9zZW5UaGVtZSIsInRoZW1lU291cmNlIiwiT2JqZWN0IiwiYXNzaWduIiwidGhlbWUiLCJ0aGVtZVRva2VucyIsImRldGVjdGVkIiwiYXBwbGllZFN0cmF0ZWd5IiwiZmVhdHMiLCJyZXZlcnNlIiwic2VlZGVkU2h1ZmZsZSIsImh0bWwiLCJwcmVzZXRzVmVyc2lvbiIsInZhcmlhdGlvblN0cmF0ZWd5IiwibXVsYmVycnkzMiIsInQiLCJyIiwiaW11bCIsImFyciIsInJhbmQiLCJzbGljZSIsImkiLCJsZW5ndGgiLCJqIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/../../packages/openlovable-core-adapter/src/promptAdapter.ts\n"));

/***/ })

});